{"ast":null,"code":"var _jsxFileName = \"/home/jaja/ARTIST_BOOKING_APPLICATION/src/components/ArtistEditForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ArtistEditForm() {\n  _s();\n\n  //   const [name] = useState(\"\");\n  //   const [city, setCity] = useState(\"\");\n  //   const [image_link, setImage_link] = useState(\"\");\n  //   const [genres, setGenres] = useState(\"\");\n  const [artistData, setArtistData] = useState({});\n  let {\n    pid\n  } = useParams();\n  useEffect(() => {\n    fetch(`http://localhost:9292/artists/${pid}`).then(response => response.json()).then(data => setArtistData(data));\n  }, []);\n  console.log(artistData);\n  let navigate = useNavigate();\n\n  function handleSubmit(event) {\n    // const formData = {\n    //   name: name,\n    //   city: city,\n    //   image_link: image_link,\n    //   genres: genres\n    // };\n    event.preventDefault();\n    fetch(`http://localhost:9292/artists/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: artistData.name,\n        city: artistData.city,\n        image_link: artistData.image_link,\n        genres: artistData.genres\n      })\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n    });\n    navigate(`/artists`);\n  }\n\n  const onFormChange = e => {\n    setArtistData({ ...artistData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"form\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      class: \"newform\",\n      className: \"newform\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        value: artistData.name,\n        onChange: onFormChange,\n        placeholder: \"NAME\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"city\",\n        value: artistData.city,\n        onChange: onFormChange,\n        placeholder: \"CITY\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"image_link\",\n        value: artistData.image_link,\n        onChange: onFormChange,\n        placeholder: \"IMAGE_LINK\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"genres\",\n        value: artistData.genres,\n        onChange: onFormChange,\n        placeholder: \"Genres\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"POST ARTISTS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 4\n  }, this);\n}\n\n_s(ArtistEditForm, \"MeApGr4SY40GJRdGU7oriaI0cRE=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = ArtistEditForm;\nexport default ArtistEditForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArtistEditForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","ArtistEditForm","artistData","setArtistData","pid","fetch","then","response","json","data","console","log","navigate","handleSubmit","event","preventDefault","id","method","headers","body","JSON","stringify","name","city","image_link","genres","onFormChange","e","target","value"],"sources":["/home/jaja/ARTIST_BOOKING_APPLICATION/src/components/ArtistEditForm.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\n\nfunction ArtistEditForm() {\n//   const [name] = useState(\"\");\n//   const [city, setCity] = useState(\"\");\n//   const [image_link, setImage_link] = useState(\"\");\n//   const [genres, setGenres] = useState(\"\");\n  const [artistData, setArtistData] = useState({})\n  \n  let { pid } = useParams()\n    useEffect(()=>{\n        fetch(`http://localhost:9292/artists/${pid}`)\n        .then(response=>response.json())\n        .then(data=>setArtistData(data))\n    },[])\n    console.log(artistData)\n    let navigate = useNavigate();\n\n  function handleSubmit(event) {\n    \n    // const formData = {\n    //   name: name,\n    //   city: city,\n    //   image_link: image_link,\n    //   genres: genres\n    // };\n    \n    event.preventDefault();\n    fetch(`http://localhost:9292/artists/${id}` ,{\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: artistData.name,\n        city: artistData.city,\n        image_link: artistData.image_link,\n        genres: artistData.genres\n      }),\n    }).then(response=>response.json())\n    .then(data=>{ console.log(data)})\n    navigate(`/artists`)\n    ;}\n    const onFormChange = (e) => {\n        setArtistData({...artistData,[e.target.name]:e.target.value});\n    };\n    \n return (\n   <div class= \"form\" >\n    <form onSubmit={handleSubmit}  class=\"newform\" className=\"newform\"> \n     <input  name='name' value={artistData.name}\n  onChange={onFormChange} placeholder=\"NAME\" type = \"text\"/>\n     <input  name = 'city' value={artistData.city} \n  onChange={onFormChange} placeholder=\"CITY\" type = \"text\" />\n     <input name = 'image_link' value={artistData.image_link}\n  onChange={onFormChange} placeholder=\"IMAGE_LINK\" type = \"text\" />\n     <input name = 'genres' value={artistData.genres}\n  onChange={onFormChange} placeholder=\"Genres\" type = \"text\" />\n      <input type=\"submit\" value=\"POST ARTISTS\" />\n</form>\n</div>\n);\n}\n\nexport default ArtistEditForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}