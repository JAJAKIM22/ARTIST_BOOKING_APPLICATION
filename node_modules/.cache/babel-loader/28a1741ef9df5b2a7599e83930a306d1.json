{"ast":null,"code":"import _defineProperty from \"/home/jaja/ARTIST_BOOKING_APPLICATION/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/jaja/ARTIST_BOOKING_APPLICATION/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/jaja/ARTIST_BOOKING_APPLICATION/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jaja/ARTIST_BOOKING_APPLICATION/src/components/ArtistEditForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\n\nfunction ArtistEditForm() {\n  //   const [name] = useState(\"\");\n  //   const [city, setCity] = useState(\"\");\n  //   const [image_link, setImage_link] = useState(\"\");\n  //   const [genres, setGenres] = useState(\"\");\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      artistData = _useState2[0],\n      setArtistData = _useState2[1];\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  useEffect(function () {\n    fetch(\"http://localhost:9292/artists/25\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setArtistData(data);\n    });\n  }, []);\n  console.log(artistData);\n  var navigate = useNavigate();\n\n  function handleSubmit(event) {\n    // const formData = {\n    //   name: name,\n    //   city: city,\n    //   image_link: image_link,\n    //   genres: genres\n    // };\n    event.preventDefault();\n    fetch(\"http://localhost:9292/artists/25\", {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: artistData.name,\n        city: artistData.city,\n        image_link: artistData.image_link,\n        genres: artistData.genres\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      console.log(data);\n    });\n    navigate(\"/artists\");\n  }\n\n  var onFormChange = function onFormChange(e) {\n    setArtistData(_objectSpread({}, artistData, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    class: \"newform\",\n    className: \"newform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"name\",\n    value: artistData.name,\n    onChange: onFormChange,\n    placeholder: \"NAME\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"city\",\n    value: artistData.city,\n    onChange: onFormChange,\n    placeholder: \"CITY\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"image_link\",\n    value: artistData.image_link,\n    onChange: onFormChange,\n    placeholder: \"IMAGE_LINK\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"genres\",\n    value: artistData.genres,\n    onChange: onFormChange,\n    placeholder: \"Genres\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"POST ARTISTS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  })));\n}\n\nexport default ArtistEditForm;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","ArtistEditForm","artistData","setArtistData","id","fetch","then","response","json","data","console","log","navigate","handleSubmit","event","preventDefault","method","headers","body","JSON","stringify","name","city","image_link","genres","onFormChange","e","target","value"],"sources":["/home/jaja/ARTIST_BOOKING_APPLICATION/src/components/ArtistEditForm.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\n\nfunction ArtistEditForm() {\n//   const [name] = useState(\"\");\n//   const [city, setCity] = useState(\"\");\n//   const [image_link, setImage_link] = useState(\"\");\n//   const [genres, setGenres] = useState(\"\");\n  const [artistData, setArtistData] = useState ({});\n  \n  let {id} = useParams()\n    useEffect(()=>{\n        fetch(`http://localhost:9292/artists/25`)\n        .then(response=>response.json())\n        .then(data=>setArtistData(data))\n    },[])\n    console.log(artistData)\n    let navigate = useNavigate();\n\n  function handleSubmit(event) {\n    \n    // const formData = {\n    //   name: name,\n    //   city: city,\n    //   image_link: image_link,\n    //   genres: genres\n    // };\n    \n    event.preventDefault();\n    fetch(`http://localhost:9292/artists/25` ,{\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: artistData.name,\n        city: artistData.city,\n        image_link: artistData.image_link,\n        genres: artistData.genres\n      }),\n    }).then(response=>response.json())\n    .then(data=>{ console.log(data)})\n    navigate(`/artists`)\n    ;}\n    const onFormChange = (e) => {\n        setArtistData({...artistData,[e.target.name]:e.target.value});\n    };\n    \n return (\n   <div class= \"form\" >\n    <form onSubmit={handleSubmit}  class=\"newform\" className=\"newform\"> \n     <input  name='name' value={artistData.name}\n  onChange={onFormChange} placeholder=\"NAME\" type = \"text\"/>\n     <input  name = 'city' value={artistData.city} \n  onChange={onFormChange} placeholder=\"CITY\" type = \"text\" />\n     <input name = 'image_link' value={artistData.image_link}\n  onChange={onFormChange} placeholder=\"IMAGE_LINK\" type = \"text\" />\n     <input name = 'genres' value={artistData.genres}\n  onChange={onFormChange} placeholder=\"Genres\" type = \"text\" />\n      <input type=\"submit\" value=\"POST ARTISTS\" />\n</form>\n</div>\n);\n}\n\nexport default ArtistEditForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}