{"ast":null,"code":"var _jsxFileName = \"/home/jaja/ARTIST_BOOKING_APPLICATION/src/components/ArtistEditForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ArtistEditForm() {\n  _s();\n\n  const [name, setName] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [image_link, setImage_link] = useState(\"\");\n  const [genres, setGenres] = useState(\"\");\n  const [artist_data, setArtistData] = {};\n  let {\n    id\n  } = useParams();\n  useEffect(() => {\n    fetch(`http://localhost:9292/artists/${id}`).then(response => response.json()).then(data => setArtistData(data));\n  }, []);\n  console.log(artist_data);\n  let navigate = useNavigate();\n\n  function handleSubmit(event) {\n    const formData = {\n      name: name,\n      city: city,\n      image_link: image_link,\n      genres: genres\n    };\n    console.log(formData);\n    event.preventDefault();\n    fetch(`http://localhost:9292/artists/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        formData: artist_data.formData\n      })\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n    });\n    navigate(`/artists`);\n  }\n\n  const onFormChange = e => {\n    setArtistData({ ...artist_data,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"form\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      class: \"newform\",\n      className: \"newform\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        value: artist_data.name,\n        onChange: onFormChange,\n        placeholder: \"NAME\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"city\",\n        value: artist_data.city,\n        onChange: onFormChange,\n        placeholder: \"CITY\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"image_link\",\n        value: artist_data.image_link,\n        onChange: onFormChange,\n        placeholder: \"IMAGE_LINK\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"genres\",\n        value: artist_data.genres,\n        onChange: onFormChange,\n        placeholder: \"Genres\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"POST ARTISTS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 4\n  }, this);\n}\n\n_s(ArtistEditForm, \"ir2F43DgsC0n6OSzr5fjZ5EUr+o=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = ArtistEditForm;\nexport default ArtistEditForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArtistEditForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","ArtistEditForm","name","setName","city","setCity","image_link","setImage_link","genres","setGenres","artist_data","setArtistData","id","fetch","then","response","json","data","console","log","navigate","handleSubmit","event","formData","preventDefault","method","headers","body","JSON","stringify","onFormChange","e","target","value"],"sources":["/home/jaja/ARTIST_BOOKING_APPLICATION/src/components/ArtistEditForm.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\n\nfunction ArtistEditForm() {\n  const [name, setName] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [image_link, setImage_link] = useState(\"\");\n  const [genres, setGenres] = useState(\"\");\n  const [artist_data, setArtistData] = ({})\n  \n  let { id } = useParams()\n    useEffect(()=>{\n        fetch(`http://localhost:9292/artists/${id}`)\n        .then(response=>response.json())\n        .then(data=>setArtistData(data))\n    },[])\n    console.log(artist_data)\n  let navigate = useNavigate();\n  function handleSubmit(event) {\n    \n    const formData = {\n      name: name,\n      city: city,\n      image_link: image_link,\n      genres: genres\n    };\n    console.log(formData);\n    event.preventDefault();\n    fetch(`http://localhost:9292/artists/${id}` ,{\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({formData:artist_data.formData}),\n    }).then(response=>response.json())\n    .then(data=>{ console.log(data)})\n    navigate(`/artists`)\n    ;}\n    const onFormChange = (e) => {\n        setArtistData({...artist_data,[e.target.name]:e.target.value});\n    };\n    \n return (\n   <div class= \"form\" >\n    <form onSubmit={handleSubmit}  class=\"newform\" className=\"newform\"> \n     <input  name='name' value={artist_data.name}\n  onChange={onFormChange} placeholder=\"NAME\" type = \"text\"/>\n     <input  name = 'city' value={artist_data.city} \n  onChange={onFormChange} placeholder=\"CITY\" type = \"text\" />\n     <input name = 'image_link' value={artist_data.image_link}\n  onChange={onFormChange} placeholder=\"IMAGE_LINK\" type = \"text\" />\n     <input name = 'genres' value={artist_data.genres}\n  onChange={onFormChange} placeholder=\"Genres\" type = \"text\" />\n      <input type=\"submit\" value=\"POST ARTISTS\" />\n</form>\n</div>\n);\n}\n\nexport default ArtistEditForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}